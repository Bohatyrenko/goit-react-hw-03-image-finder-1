{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","servises/photoApi.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","searchQuery","currentPage","axios","get","then","response","console","log","data","hits","App","type","color","height","width","timeout","React","Component","ImageGalleryItem","onOpenModal","map","id","webformatURL","tags","largeImageURL","src","alt","data-source","className","s","ImageGalleryItemImage","onClick","ImageGallery","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","SearchForm","SearchFormButton","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Button","Modal","onKeyDown","key","onClose","window","addEventListener","removeEventListener","image","Overlay","isLoading","error","showModal","modalAlt","onChangeQuery","target","dataset","source","attributes","textContent","toggleModal","onCloseModal","nodeName","fetchHits","photoApi","prevState","catch","finally","length","scrollTo","top","document","querySelector","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0a53848d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1APyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1sSQg\",\"Modal\":\"Modal_Modal__3rVEJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3yQKp\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1Ax8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3DNx6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3M44r\",\"SearchForm\":\"Searchbar_SearchForm__1qouK\",\"SearchFormButton\":\"Searchbar_SearchFormButton__29mrc\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1yim-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Hgfe\"};","import axios from 'axios';\r\n\r\nconst API_KEY = '21301662-4ef0ce252e11badb1c1b3b876';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst fetchHits = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${currentPage}&per_page=12`,\r\n    )\r\n    .then(response => {\r\n      console.log(response.data.hits);\r\n      return response.data.hits;\r\n    });\r\n};\r\n\r\nexport default { fetchHits };\r\n","import React from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ hits, onOpenModal }) => (\r\n  <>\r\n    {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <li key={id}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          data-source={largeImageURL}\r\n          className={s.ImageGalleryItemImage}\r\n          onClick={onOpenModal}\r\n        />\r\n      </li>\r\n    ))}\r\n  </>\r\n);\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ hits, onOpenModal }) => {\r\n  console.log(s);\r\n  return (\r\n    <ul id=\"imageGallery\" className={s.ImageGallery}>\r\n      <ImageGalleryItem hits={hits} onOpenModal={onOpenModal} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchQuery);\r\n\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className=\"SearchForm-button-label\"></span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleChange}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport s from '../Button/Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={s.Button}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n\r\n// async function onLoadMore(e) {\r\n//   loadMoreBtn.disable();\r\n//   const result = await pixabayApiService.fetchArticles();\r\n//   appendHitsMarkup(result);\r\n//   loadMoreBtn.enable();\r\n\r\n//   window.scrollTo({\r\n//     top: e.pageY,\r\n//     left: 0,\r\n//     behavior: 'smooth',\r\n//   });\r\n// }\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.key === 'Escape') {\r\n      this.props.onClose(e);\r\n    }\r\n  };\r\n  render() {\r\n    const { image, alt, onClose } = this.props;\r\n    return (\r\n      <div className={s.Overlay} onClick={onClose}>\r\n        <div className={s.Modal}>\r\n          <img src={image} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport photoApi from './servises/photoApi';\r\n\r\nimport './App.css';\r\nimport Loader from './components/Loader/Loader';\r\nimport shortid from 'shortid';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    hits: [],\r\n    searchQuery: '',\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    error: null,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    modalAlt: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchHits();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      hits: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  onOpenModal = e => {\r\n    this.setState({\r\n      largeImageURL: e.target.dataset.source,\r\n      modalAlt: e.target.attributes.alt.textContent,\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  onCloseModal = e => {\r\n    if (e.target.nodeName !== 'IMG') {\r\n      this.toggleModal();\r\n      this.setState({\r\n        largeImageURL: '',\r\n        modalAlt: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  // handleImageClick = e => {\r\n\r\n  //   this.toggleModal();\r\n  //   this.setState({ largeImageURL: image });\r\n  // };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n    console.log(this.state.showModal);\r\n  };\r\n\r\n  fetchHits = () => {\r\n    this.setState({ isLoading: true });\r\n    const { currentPage, searchQuery } = this.state;\r\n\r\n    const options = {\r\n      currentPage,\r\n      searchQuery,\r\n    };\r\n\r\n    photoApi\r\n      .fetchHits(options)\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        if (this.state.hits.length > 12) {\r\n          return window.scrollTo({\r\n            top: document.querySelector('#imageGallery').scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoading } = this.state;\r\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\r\n    return (\r\n      <div className=\"allCenter\">\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <ImageGallery hits={hits} onOpenModal={this.onOpenModal} />\r\n        {isLoading && <Loader />}\r\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchHits} />}\r\n        {this.state.showModal && (\r\n          <Modal\r\n            image={this.state.largeImageURL}\r\n            alt={this.state.modalAlt}\r\n            onClose={this.onCloseModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}